function showtabs(){$("body").removeClass("show-overlay").addClass("overlay-open"),$(this).siblings().find(".menu-overlay").hide().find(".active").removeClass("active"),$(this).find(".menu-overlay .active").removeClass("active"),$(this).addClass("active").siblings().removeClass("active"),$(this).find(".menu-overlay").removeClass().addClass("menu-overlay Level1").show(),$(this).find(".menu-overlay li").length<=0?$(this).find(".menu-overlay").addClass("empty"):$(this).find(".menu-overlay").removeClass("empty"),avoidPageBreak()}function avoidPageBreak(){$(".menu-overlay").find("li").each(function(a){var b=$(this);b.height()<=150?b.addClass("avoid-page-break"):b.removeClass("avoid-page-break")})}function hideOperations(){$(this).find(".hasOperations").removeClass("opened").find(".operationsList").hide()}$(document).on("click",".content .top-bar .tabs",function(){var a=$(this);if($(this).find(".menu-overlay").length<=0){$("body").addClass("show-overlay");$.ajax(JsonUrl).done(function(b){var c=b;for($i=0;$i<c.length;$i++){var d=c[$i],e=$('.content .top-bar .tabs[data-category="'+c[$i].name+'"]');if(d.children.length>0){var f=$("<div class='menu-overlay text-left Level1'><div class='visible-xs overlay-header'><a href='javacsript:void(0)' class='close-button'></a><a href='javacsript:void(0)' class='back-button'></a></div></div>"),g=$('<ul class="multilevel-list" />').addClass(d.level);createList(d,g),f.append(g)}e.append(f)}showtabs.call(a)}).fail(function(a){$("body").removeClass("show-overlay")}).always(function(a){console.log("always")})}else showtabs.call(a)});var createList=function(a,b){for(var c=0;c<a.children.length;c++){var d=$('<a href="javascript:void(0)" />').html(a.children[c].englishName),e=$("<li />").append(d);if(resetTrackNodeFlag(),trackNode(a.children[c])){var f;if(a.children[c].services&&a.children[c].services.length>0){f=$('<ul class="multilevel-list sublist" />').addClass(a.children[c].level);for(var g=0;g<a.children[c].services.length;g++){var h=$("body").hasClass("ar")?"ar":"en",i=$('<a href="/'+h+"/"+a.children[c].services[g].pageURL+'.html" />').html(a.children[c].services[g].name),j=$("<li />").append(i);f.append(j)}e.append(f).addClass("has-children")}a.children[c].children.length>0&&(e.find(">.multilevel-list").length<=0&&(f=$('<ul class="multilevel-list sublist" />').addClass(a.children[c].level)),createList(a.children[c],f),e.append(f).addClass("has-children")),b.append(e)}}},trackNodeFlag,resetTrackNodeFlag=function(){trackNodeFlag=!1},trackNode=function(a){if(!trackNodeFlag){if(a.services&&a.services.length>0)return!0;if(a.children.length>0)for(var b=0;b<a.children.length;b++){if(a.children[b].services&&a.children[b].services.length>0)return!0;a.children[b].children.length>0&&(trackNodeFlag=trackNode(a.children[b])||trackNodeFlag)}}return trackNodeFlag};$(document).on({click:function(a){if(a.stopPropagation(),$(this).find(">ul").length>0){var b=$(this),c=b.closest(".menu-overlay"),d=getFilteredClassName(b.closest("ul.multilevel-list"),"Level");if(DT.screen.isMobile())d=getFilteredClassName(b.find(">ul.multilevel-list"),"Level"),c.removeClassStartsWith("Level").addClass(d),b.addClass("active").siblings().removeClass("active");else{if(d.match(/\d+/)[0]%2==1)return!1;if(b.hasClass("active")){d="Level"+(d.match(/\d+/)[0]-1);var e=d.match(/\d+/)[0]-1;if($("body").hasClass("ar"))var f=e/2*100;else var f=-1*e/2*100;c.find(">.multilevel-list").css({transform:"translateX("+f+"%)"}),setTimeout(function(){requestAnimFrame(function(){c.removeClass("translateLeft"),c.find(">.multilevel-list").removeAttr("style"),b.removeClass("active").find(".active").removeClass("active"),b.closest("li.active").removeClass("active"),c.removeClassStartsWith("Level").addClass(d),avoidPageBreak()})},400)}else d=getFilteredClassName(b.find(">ul.multilevel-list"),"Level"),b.addClass("active").siblings().removeClass("active"),b.parentsUntil(c,"li").addClass("active"),c.removeClassStartsWith("Level").addClass(d),avoidPageBreak()}}}},".menu-overlay li"),$(document).on("click",":not(.tabs)",function(a){$(a.target).closest(".tabs").length<=0&&($(".menu-overlay").hide().find(".active").removeClass("active"),$("body").removeClass("overlay-open"),$(".dashboard-bar .tabs").removeClass("active"))});var getFilteredClassName=function(a,b){var c=a.attr("class").split(" "),d=0;for(var e in c)if(0==c[e].indexOf(b)){d=c[e];break}return d};$(".tabs").on("click",".overlay-header .close-button",function(a){a.stopPropagation(),a.preventDefault(),$(this).closest(".menu-overlay").hide().find(".multilevel-list").removeClass("active"),$("body").removeClass("overlay-open")}),$(".tabs").on("click",".overlay-header .back-button",function(a){a.stopPropagation(),a.preventDefault();var b=$(this).closest(".menu-overlay"),c=getFilteredClassName(b,"Level");if("Level1"!=c){var d="Level"+(c.match(/\d+/)[0]-1);b.removeClass(c).addClass(d),b.find("."+d).find(".active").removeClass("active")}}),$(".dashboard-bar .searchBox-container input").on("input",function(a){var b=$(this),c=b.siblings(".suggestionWrapper"),d=b.val();d.length>=3?$.ajax({url:"/en/searchService.html?serachKey="+d}).done(function(a){if(0==a.length)return void c.html('<ul><li><span class="no-result-msg">No Result Found</span></li></ul>');c.html("");var b=$("<ul />");$.each(a,function(a,c){var d=$("<li />"),e=$('<a class="suggestion service" />').attr("href","/en/"+c.url).html("<span>"+c.serviceName+"</span>");if(c.serviceOperations.length>0){d.addClass("hasOperations");var f=$("<ul class='operationsList' />");$.each(c.serviceOperations,function(a,b){console.log(b);var c=$("<li />"),d=$('<a class="suggestion operation" />').attr("href","/en/"+b.url).html("<span>"+b.name+"</span>");c.append(d),f.append(c)}),d.append(f)}d.prepend(e),b.append(d)}),c.append(b)}):c.html("")}),$(document).on("mouseenter",".suggestionWrapper  li.hasOperations",function(){$(this).addClass("opened").find(".operationsList").slideDown(),$(this).siblings(".hasOperations").removeClass("opened").find(".operationsList").hide()}),$(document).on("mouseleave",".suggestionWrapper",hideOperations),$(".dashboard-bar .dashboard-search-button").on("click",function(a){$(this).closest(".searchBox-container").toggleClass("active"),$(this).siblings(".inputWrapper").find("input").focus()}),$(document).on("click","*:not(.searchBox-container,.searchBox-container *)",function(a){$(this).closest(".searchBox-container").length<=0&&$(".searchBox-container input:focus").length<=0&&($(".searchBox-container").removeClass("active"),$(".searchBox-container input").val(""),$(".suggestionWrapper").html(""))}),$(document).on("click",".edit-button",function(){$(this).closest(".favorite-services").addClass("show-edit")}),$(".favorite-services").on("change",'input[type="checkbox"]',function(){if($(".favorite-alert-box .remove-favorite-form").removeClass("removed"),this.checked){$(".favorite-alert-box").find(".service-name").html($(this).closest(".delete").siblings(".service-text").clone(!0));var a=$(".favorite-alert-box"),b=!1;console.log($(".favorite-alert-box").find(".service-name").html());var c=DT.modalPopup.createPopup(a,"favorite-alert",b);DT.modalPopup.showPopup(c)}}),$(document).on("submit",".remove-favorite-form",function(){var a=$(".service-text",$(this)).data("id");console.log(a);var b="id="+encodeURIComponent(a);return $.ajax({url:$(".remove-favorite-form").attr("action"),data:b,type:"GET",success:function(b){"isFavourite"==b?$(".remove-favorite-form").addClass("not-removed"):"isNotFavourite"==b&&($(".remove-favorite-form").addClass("removed"),console.log($(".service-text[data-id="+a+"]").closest("li")),$(".service-text[data-id="+a+"]").closest("li").remove())},error:function(a,b,c){alert(a.responseText)}}),!1}),$(document).on("reset",".remove-favorite-form",function(){$(this).closest(".full-screen-popup").find(".close-button").trigger("click"),$(".favorite-services").removeClass("show-edit").find('input[type="checkbox"]').attr("checked",!1)}),$(window).on("resize",function(){}),$(document).on("click",".load-more-services",function(){$(this).parent().siblings(".services-list").addClass("loaded"),$(this).parent().hide()}),$.fn.removeClassStartsWith=function(a){return $(this).removeClass(function(b,c){for(var d=[],e=new RegExp("("+a+"\\S*)","g");null!==(myArray=e.exec(c));)d.push(myArray[0]);return d.join(" ")})},window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a,b){window.setTimeout(a,1e3/60)}}();