function lazyload(){var a=$(".galleryContainer").lazyLoader({jsonFile:galleryJson,mode:"scroll",limit:4,type:"gallery",ajaxLoader:loaderPath});$.when(a).then(function(){$(".galleryContainer").imagesLoaded(function(){$(".galleryContainer").isotope({itemSelector:".lazyItem"})})})}function getParameterByName(a,b){b||(b=window.location.href),a=a.replace(/[\[\]]/g,"\\$&");var c=new RegExp("[?&]"+a+"(=([^&#]*)|&|#|$)"),d=c.exec(b);return d?d[2]?decodeURIComponent(d[2].replace(/\+/g," ")):"":null}$(function(){lazyload()}),$(window).load(function(){var a=getParameterByName("filter");a&&($(".galleryFilter").find("[data-filter="+a+"]").addClass("current").siblings().removeClass("current"),$(".galleryContainer").isotope({filter:"."+a})),$(".galleryFilter > a").click(function(){var a=$(".galleryContainer"),b=$(this).data("filter");$(".galleryFilter .current").removeClass("current"),$(this).addClass("current"),a.removeClassStartsWith("show-").addClass("show-"+b),a.isotope({filter:"."+b})}),$(".galleryContainer").on("click"," > div",function(){var a=$(".gallery-popup");$("body .wrapper").find(">.gallery-popup").length<=0&&(a=$(".content .gallery-popup"),$("body .wrapper").append(a));var b=$(this).parent().siblings().find(".galleryFilter").find(".current").data("filter"),c=$("."+b,".galleryContainer").index(this);if(a.data("index",c),a.data("filter",b),a.height($(window).height()).css({top:$(window).scrollTop()}),a.addClass("active"),$("body").addClass("gallery-overlay-open"),$(this).hasClass("video")){a.find(".loader").show();var d="";d=DT.screen.isMobile()?$('<iframe width="320" height="240" frameborder="0" scrolling="no" src="'+$(this).data("src")+'"> </iframe>'):$('<iframe width="640" height="480" frameborder="0" scrolling="no" src="'+$(this).data("src")+'"> </iframe>'),a.find(".gallery-body").html(d)}else if($(this).hasClass("image")){a.find(".loader").show();var e=$('<img class="gallery-image" src="'+$(this).data("src")+'">');a.find(".gallery-body").html(e)}else if($(this).hasClass("news")){a.find(".loader").hide();var f=$('<div class="news-wrapper" />');if($(this).data("src")&&$(this).data("src").length>0){var g=$('<img class="news-image" src="'+$(this).data("src")+'">');f.append(g)}var h=$('<div class="textWrapper" />').append($("<h2>").html($(this).find(".headline").html()));h.append($('<span class="timestamp">').html($(this).find(".date").html())),h.append($(this).data("detail")),f.append(h),a.find(".gallery-body").html(f)}0==c?$(".prev-button").addClass("disabled").siblings(".next-button").removeClass("disabled"):c==$(".galleryContainer").find("."+b).length-1?$(".next-button").addClass("disabled").siblings(".prev-button").removeClass("disabled"):$(".next-button,.prev-button").removeClass("disabled"),setTimeout(function(){a.find(".gallery-content").height()>a.height()?a.find(".gallery-content").addClass("larger"):a.find(".gallery-content").removeClass("larger")},200)}),$(".gallery-popup,.gallery-popup .close-btn").on("click",function(a){a.stopPropagation();var b=$(".gallery-popup");b.removeClass("active"),$("body").removeClass("gallery-overlay-open")}),$(".gallery-content").on("click",function(a){a.stopPropagation()}),$(".gallery-content .navigation-btn").on("click",function(){if(!$(this).hasClass("disabled")){var a=$(".gallery-popup"),b=a.data("index");console.log(b+" "+a.data("filter"));var c=$(".galleryContainer"),d=c.find("."+a.data("filter"));d.eq(b);$(this).hasClass("next-button")?d.eq(b+1).trigger("click"):$(this).hasClass("prev-button")&&d.eq(b-1).trigger("click")}})});